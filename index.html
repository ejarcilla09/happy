<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Girlfriend's Day!</title>
    <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ffb1c0, #d8b4fe);
            font-family: 'Parisienne', cursive;
            color: white;
            overflow: hidden;
            position: relative;
            animation: gradientFade 10s ease-in-out infinite;
            touch-action: manipulation;
        }
        @keyframes gradientFade {
            0% { background: linear-gradient(135deg, #ffb1c0, #d8b4fe); }
            33% { background: linear-gradient(135deg, #ffd7b1, #ffb1c0); }
            66% { background: linear-gradient(135deg, #d8b4fe, #ffd7b1); }
            100% { background: linear-gradient(135deg, #ffb1c0, #d8b4fe); }
        }
        .heart {
            width: 15vw;
            height: 15vw;
            max-width: 100px;
            max-height: 100px;
            background: #ff6f91;
            position: relative;
            transform: rotate(-45deg);
            animation: beat 1.2s infinite;
            margin-bottom: 2rem;
            box-shadow: 0 0 20px rgba(255, 105, 145, 0.8);
        }
        .heart::before,
        .heart::after {
            content: '';
            width: 15vw;
            height: 15vw;
            max-width: 100px;
            max-height: 100px;
            background: #ff6f91;
            border-radius: 50%;
            position: absolute;
        }
        .heart::before {
            top: -7.5vw;
            left: 0;
        }
        .heart::after {
            left: 7.5vw;
            top: 0;
        }
        @keyframes beat {
            0% { transform: scale(1) rotate(-45deg); }
            50% { transform: scale(1.2) rotate(-45deg); }
            100% { transform: scale(1) rotate(-45deg); }
        }
        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: sparkle 2s infinite;
        }
        @keyframes sparkle {
            0% { transform: scale(0); opacity: 0.8; }
            50% { transform: scale(1); opacity: 0.4; }
            100% { transform: scale(0); opacity: 0; }
        }
        .cursor-trail {
            position: absolute;
            font-size: 1rem;
            color: #ff9ab2;
            pointer-events: none;
            opacity: 0.7;
            animation: fadeTrail 1s ease-out forwards;
        }
        @keyframes fadeTrail {
            0% { opacity: 0.7; }
            100% { opacity: 0; }
        }
        .petal {
            position: absolute;
            width: 8px;
            height: 15px;
            background: #ff8ab7;
            border-radius: 50%;
            opacity: 0.7;
            animation: fall 10s infinite linear;
        }
        @keyframes fall {
            0% { transform: translateY(-20px) rotate(0deg); opacity: 0.7; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .message {
            font-size: 2rem;
            text-align: center;
            max-width: 90%;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
        }
        #typed-message {
            font-style: italic;
            color: #fff3e0;
        }
        .reveal-btn {
            margin-top: 1rem;
            padding: 0.8rem 1.5rem;
            font-size: 1.5rem;
            background: #ff6f91;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 20px;
            transition: all 0.3s;
            box-shadow: 0 0 15px rgba(255, 105, 145, 0.6);
            font-family: 'Parisienne', cursive;
            touch-action: manipulation;
        }
        .reveal-btn:hover {
            background: #ff4d79;
            transform: scale(1.1);
        }
        #hidden-message {
            display: none;
            margin-top: 1rem;
            font-size: 1.5rem;
            background: rgba(0, 0, 0, 0.4);
            padding: 1.5rem;
            border-radius: 15px;
            max-width: 90%;
            text-align: center;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        .music-toggle {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem 1rem;
            background: #ff6f91;
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Parisienne', cursive;
            font-size: 1.2rem;
            touch-action: manipulation;
        }
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10;
        }
        .game-container.hidden {
            display: none;
        }
        canvas {
            border: 2px solid #ff6f91;
            border-radius: 10px;
            max-width: 90vw;
            max-height: 50vh;
        }
        .game-instructions {
            font-size: 1.2rem;
            text-align: center;
            margin: 1rem;
            max-width: 90%;
        }
        .game-btn {
            padding: 0.5rem 1rem;
            font-size: 1.2rem;
            background: #ff6f91;
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            margin: 0.5rem;
            font-family: 'Parisienne', cursive;
            touch-action: manipulation;
        }
        @media (max-width: 600px) {
            .heart {
                width: 20vw;
                height: 20vw;
            }
            .heart::before,
            .heart::after {
                width: 20vw;
                height: 20vw;
            }
            .heart::before {
                top: -10vw;
            }
            .heart::after {
                left: 10vw;
            }
            .message {
                font-size: 1.5rem;
            }
            .reveal-btn {
                font-size: 1.2rem;
                padding: 0.6rem 1.2rem;
            }
            #hidden-message {
                font-size: 1.2rem;
                padding: 1rem;
            }
            .music-toggle {
                font-size: 1rem;
                padding: 0.4rem 0.8rem;
            }
            .game-instructions {
                font-size: 1rem;
            }
            .game-btn {
                font-size: 1rem;
                padding: 0.4rem 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container" id="game-container">
        <div class="game-instructions" id="game-instructions"></div>
        <canvas id="game-canvas"></canvas>
        <button class="game-btn" onclick="startGame()">Start Game</button>
        <button class="game-btn" onclick="switchGame()">Switch Game</button>
    </div>
    <div class="heart" id="main-heart"></div>
    <div class="message">
        <span id="typed-message"></span>
    </div>
    <button class="reveal-btn" onclick="revealMessage()" disabled id="reveal-btn">For My Sweetheart 💕</button>
    <div id="hidden-message">
        Happy National Girlfriend's Day, my darling! You're my sunshine, my joy, and my forever love. Here's to our magical moments together! 🥰💖
    </div>
    <button class="music-toggle" onclick="toggleMusic()">Play Music 🎶</button>
    <audio id="background-music" loop>
        <source src="https://www.royaltyfreemusicclips.com/free_music/romantic_piano.mp3" type="audio/mp3">
    </audio>

    <script>
        // Typing animation for the message
        const message = "You're my favorite person in the whole world! 🥰";
        let i = 0;
        function typeMessage() {
            if (i < message.length) {
                document.getElementById("typed-message").innerHTML += message.charAt(i);
                i++;
                setTimeout(typeMessage, 100);
            }
        }

        // Reveal hidden message
        function revealMessage() {
            const hiddenMessage = document.getElementById("hidden-message");
            hiddenMessage.style.display = "block";
        }

        // Sparkle effect
        function createSparkle() {
            const sparkle = document.createElement("div");
            sparkle.className = "sparkle";
            const heart = document.getElementById("main-heart");
            const rect = heart.getBoundingClientRect();
            sparkle.style.left = rect.left + Math.random() * rect.width + "px";
            sparkle.style.top = rect.top + Math.random() * rect.height + "px";
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 2000);
        }
        setInterval(createSparkle, 500);

        // Cursor trail effect
        function createCursorTrail(x, y) {
            const trail = document.createElement("div");
            trail.className = "cursor-trail";
            trail.innerHTML = "💖";
            trail.style.left = x + "px";
            trail.style.top = y + "px";
            document.body.appendChild(trail);
            setTimeout(() => trail.remove(), 1000);
        }
        document.addEventListener("mousemove", (e) => {
            createCursorTrail(e.clientX, e.clientY);
        });
        document.addEventListener("touchmove", (e) => {
            const touch = e.touches[0];
            createCursorTrail(touch.clientX, touch.clientY);
        });

        // Falling petals effect
        function createPetal() {
            const petal = document.createElement("div");
            petal.className = "petal";
            petal.style.left = Math.random() * 100 + "vw";
            petal.style.animationDuration = Math.random() * 5 + 8 + "s";
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 10000);
        }
        setInterval(createPetal, 500);

        // Music toggle
        const audio = document.getElementById("background-music");
        let isPlaying = false;
        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                document.querySelector(".music-toggle").innerText = "Play Music 🎶";
            } else {
                audio.play();
                isPlaying = true;
                document.querySelector(".music-toggle").innerText = "Pause Music ❄️";
            }
        }

        // Mini-games
        const canvas = document.getElementById("game-canvas");
        const ctx = canvas.getContext("2d");
        const gameContainer = document.getElementById("game-container");
        const gameInstructions = document.getElementById("game-instructions");
        const revealBtn = document.getElementById("reveal-btn");
        let gameState = "heartCatch";
        let score = 0;
        let gameActive = false;

        // Canvas setup
        function resizeCanvas() {
            canvas.width = Math.min(window.innerWidth * 0.9, 400);
            canvas.height = Math.min(window.innerHeight * 0.5, 300);
        }
        resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        // Heart Catch Game
        let playerX = canvas.width / 2;
        let hearts = [];
        let lastHeartTime = 0;
        function startHeartCatch() {
            gameInstructions.innerText = "Catch the falling hearts with your basket! Get 5 to unlock the message! (Use mouse or touch)";
            gameActive = true;
            score = 0;
            hearts = [];
            playerX = canvas.width / 2;
            animateHeartCatch();
        }

        function animateHeartCatch() {
            if (!gameActive) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Draw player (basket)
            ctx.fillStyle = "#ff6f91";
            ctx.beginPath();
            ctx.arc(playerX, canvas.height - 20, 20, 0, Math.PI * 2);
            ctx.fill();
            // Update hearts
            const currentTime = Date.now();
            if (currentTime - lastHeartTime > 1000) {
                hearts.push({ x: Math.random() * (canvas.width - 20), y: 0 });
                lastHeartTime = currentTime;
            }
            hearts.forEach((heart, index) => {
                heart.y += 3;
                ctx.font = "20px Arial";
                ctx.fillText("💖", heart.x, heart.y);
                if (heart.y > canvas.height - 30 && heart.y < canvas.height - 10 && Math.abs(heart.x - playerX) < 30) {
                    score++;
                    hearts.splice(index, 1);
                }
                if (heart.y > canvas.height) {
                    hearts.splice(index, 1);
                }
            });
            // Draw score
            ctx.fillStyle = "white";
            ctx.font = "20px Parisienne";
            ctx.fillText(`Score: ${score}`, 10, 30);
            if (score >= 5) {
                gameActive = false;
                gameContainer.classList.add("hidden");
                revealBtn.disabled = false;
                window.onload = typeMessage;
            } else {
                requestAnimationFrame(animateHeartCatch);
            }
        }

        // Love Match Game
        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        function startLoveMatch() {
            gameInstructions.innerText = "Match the hearts! Find 3 pairs to unlock the message! (Click or tap cards)";
            gameActive = true;
            score = 0;
            matchedPairs = 0;
            cards = Array(6).fill().map((_, i) => ({
                id: i,
                value: Math.floor(i / 2),
                flipped: false,
                matched: false
            })).sort(() => Math.random() - 0.5);
            flippedCards = [];
            animateLoveMatch();
        }

        function animateLoveMatch() {
            if (!gameActive) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const cardWidth = canvas.width / 3;
            const cardHeight = canvas.height / 2;
            cards.forEach((card, i) => {
                const x = (i % 3) * cardWidth;
                const y = Math.floor(i / 3) * cardHeight;
                ctx.fillStyle = card.flipped || card.matched ? "#ff6f91" : "#d8b4fe";
                ctx.fillRect(x + 5, y + 5, cardWidth - 10, cardHeight - 10);
                if (card.flipped || card.matched) {
                    ctx.font = "30px Arial";
                    ctx.fillStyle = "white";
                    ctx.fillText("💖", x + cardWidth / 2 - 15, y + cardHeight / 2);
                }
            });
            ctx.fillStyle = "white";
            ctx.font = "20px Parisienne";
            ctx.fillText(`Matches: ${matchedPairs}`, 10, 30);
            if (matchedPairs >= 3) {
                gameActive = false;
                gameContainer.classList.add("hidden");
                revealBtn.disabled = false;
                window.onload = typeMessage;
            } else {
                requestAnimationFrame(animateLoveMatch);
            }
        }

        canvas.addEventListener("click", (e) => {
            if (!gameActive) return;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            if (gameState === "heartCatch") {
                playerX = x;
            } else if (gameState === "loveMatch") {
                const cardWidth = canvas.width / 3;
                const cardHeight = canvas.height / 2;
                const cardIndex = Math.floor(x / cardWidth) + Math.floor(y / cardHeight) * 3;
                if (cardIndex >= 0 && cardIndex < cards.length && !cards[cardIndex].flipped && !cards[cardIndex].matched) {
                    cards[cardIndex].flipped = true;
                    flippedCards.push(cards[cardIndex]);
                    if (flippedCards.length === 2) {
                        if (flippedCards[0].value === flippedCards[1].value) {
                            flippedCards[0].matched = true;
                            flippedCards[1].matched = true;
                            matchedPairs++;
                            flippedCards = [];
                        } else {
                            setTimeout(() => {
                                flippedCards[0].flipped = false;
                                flippedCards[1].flipped = false;
                                flippedCards = [];
                            }, 1000);
                        }
                    }
                }
            }
        });

        canvas.addEventListener("touchstart", (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const x = touch.clientX - rect.left;
            const y = touch.clientY - rect.top;
            if (gameState === "heartCatch") {
                playerX = x;
            } else if (gameState === "loveMatch") {
                const cardWidth = canvas.width / 3;
                const cardHeight = canvas.height / 2;
                const cardIndex = Math.floor(x / cardWidth) + Math.floor(y / cardHeight) * 3;
                if (cardIndex >= 0 && cardIndex < cards.length && !cards[cardIndex].flipped && !cards[cardIndex].matched) {
                    cards[cardIndex].flipped = true;
                    flippedCards.push(cards[cardIndex]);
                    if (flippedCards.length === 2) {
                        if (flippedCards[0].value === flippedCards[1].value) {
                            flippedCards[0].matched = true;
                            flippedCards[1].matched = true;
                            matchedPairs++;
                            flippedCards = [];
                        } else {
                            setTimeout(() => {
                                flippedCards[0].flipped = false;
                                flippedCards[1].flipped = false;
                                flippedCards = [];
                            }, 1000);
                        }
                    }
                }
            }
        });

        function startGame() {
            if (gameState === "heartCatch") {
                startHeartCatch();
            } else {
                startLoveMatch();
            }
        }

        function switchGame() {
            gameState = gameState === "heartCatch" ? "loveMatch" : "heartCatch";
            gameActive = false;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            gameInstructions.innerText = gameState === "heartCatch" ? 
                "Catch the falling hearts with your basket! Get 5 to unlock the message! (Use mouse or touch)" : 
                "Match the hearts! Find 3 pairs to unlock the message! (Click or tap cards)";
        }

        // Initialize game
        gameInstructions.innerText = "Catch the falling hearts with your basket! Get 5 to unlock the message! (Use mouse or touch)";
    </script>
</body>
</html>